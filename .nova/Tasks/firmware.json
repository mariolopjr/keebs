{
  "actions" : {
    "build" : {
      "enabled" : true,
      "script" : "#!\/bin\/bash\n\n\/opt\/homebrew\/bin\/direnv allow . && eval \"$(\/opt\/homebrew\/bin\/direnv export bash)\"\n\nUSER=mariolopjr\n\n# keyboard hardware name\nNAME_envoy=m256wh\n\n# ensure submodule is initialized\ngit submodule update --init --recursive\n\n# cleanup old files\nrm -rf \"qmk_firmware\/keyboards\/mode\/${NAME_envoy}\/keymaps\/${USER}\"\n\n# copy files\ncp .envrc .tool-versions Pipfile Pipfile.lock qmk_firmware\/\ncp -R \"$(pwd)\/src\/keymaps\/envoy\" \"qmk_firmware\/keyboards\/mode\/${NAME_envoy}\/keymaps\/${USER}\"\n\n# run build\ncd qmk_firmware\nqmk compile -kb \"mode\/${NAME_envoy}\" -km \"$USER\"\n\n# copy built firmware\ncd ..\nmv \"qmk_firmware\/mode_${NAME_envoy}_${USER}.bin\" build\/\n\n# cleanup old files\nrm -rf \"qmk_firmware\/keyboards\/mode\/${NAME_envoy}\/keymaps\/${USER}\"\nrm qmk_firmware\/.envrc qmk_firmware\/.tool-versions qmk_firmware\/Pipfile qmk_firmware\/Pipfile.lock\n",
      "shell" : "\/bin\/bash"
    },
    "clean" : {
      "enabled" : true,
      "script" : "#!\/bin\/bash\n\nrm -rf qmk_firmware\/.build\nrm -f build\/*.bin\n",
      "shell" : "\/bin\/bash"
    }
  }
}
